{"ast":null,"code":"import { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { addPokemon, removePokemon } from '../actions/action';\nexport default function usePokemonListAction(allPokemonList = [], pokemonList = []) {\n  const myPokemonList = pokemonList;\n  const [searchResult, setSearchResult] = useState(allPokemonList);\n  const dispatch = useDispatch();\n\n  const findPokemon = keyword => {\n    const newSearchResult = allPokemonList.filter(pokemon => {\n      return pokemon.name.toLowerCase().includes(keyword);\n    });\n    setSearchResult(newSearchResult);\n  };\n\n  const addPokemonList = addedPokemon => {\n    const isAdded = myPokemonList.filter(pokemon => pokemon.name === addedPokemon.name);\n\n    if (isAdded.length === 0) {\n      const newPokemonlist = [...myPokemonList, addedPokemon];\n      localStorage.setItem('pokedex', JSON.stringify(newPokemonlist));\n      const newSearchResult = searchResult.filter(pokemon => pokemon.name !== addedPokemon.name);\n      setSearchResult(newSearchResult);\n      return dispatch(addPokemon(addedPokemon));\n    }\n\n    const newSearchResult = searchResult.filter(pokemon => pokemon.name !== addedPokemon.name);\n    setSearchResult(newSearchResult);\n  };\n\n  const onRemovePokemeon = removedPokemon => {\n    return dispatch(removePokemon(removedPokemon));\n  };\n\n  return {\n    searchResult,\n    findPokemon,\n    addPokemonList,\n    onRemovePokemeon\n  };\n}","map":{"version":3,"sources":["/Users/theerasan-s/Desktop/pokedex/src/hooks/usePokemonListAction.js"],"names":["useState","useDispatch","addPokemon","removePokemon","usePokemonListAction","allPokemonList","pokemonList","myPokemonList","searchResult","setSearchResult","dispatch","findPokemon","keyword","newSearchResult","filter","pokemon","name","toLowerCase","includes","addPokemonList","addedPokemon","isAdded","length","newPokemonlist","localStorage","setItem","JSON","stringify","onRemovePokemeon","removedPokemon"],"mappings":"AAAA,SAASA,QAAT,QAAyB,OAAzB;AAEA,SAASC,WAAT,QAA4B,aAA5B;AAEA,SAASC,UAAT,EAAqBC,aAArB,QAA0C,mBAA1C;AAEA,eAAe,SAASC,oBAAT,CACZC,cAAc,GAAG,EADL,EAEZC,WAAW,GAAG,EAFF,EAGb;AACC,QAAMC,aAAa,GAAGD,WAAtB;AACA,QAAM,CAACE,YAAD,EAAeC,eAAf,IAAkCT,QAAQ,CAACK,cAAD,CAAhD;AACA,QAAMK,QAAQ,GAAGT,WAAW,EAA5B;;AAEA,QAAMU,WAAW,GAAIC,OAAD,IAAa;AAC9B,UAAMC,eAAe,GAAGR,cAAc,CAACS,MAAf,CAAuBC,OAAD,IAAa;AACxD,aAAOA,OAAO,CAACC,IAAR,CAAaC,WAAb,GAA2BC,QAA3B,CAAoCN,OAApC,CAAP;AACF,KAFuB,CAAxB;AAGAH,IAAAA,eAAe,CAACI,eAAD,CAAf;AACF,GALD;;AAOA,QAAMM,cAAc,GAAIC,YAAD,IAAkB;AACtC,UAAMC,OAAO,GAAGd,aAAa,CAACO,MAAd,CACZC,OAAD,IAAaA,OAAO,CAACC,IAAR,KAAiBI,YAAY,CAACJ,IAD9B,CAAhB;;AAIA,QAAIK,OAAO,CAACC,MAAR,KAAmB,CAAvB,EAA0B;AACvB,YAAMC,cAAc,GAAG,CAAC,GAAGhB,aAAJ,EAAmBa,YAAnB,CAAvB;AACAI,MAAAA,YAAY,CAACC,OAAb,CAAqB,SAArB,EAAgCC,IAAI,CAACC,SAAL,CAAeJ,cAAf,CAAhC;AACA,YAAMV,eAAe,GAAGL,YAAY,CAACM,MAAb,CACpBC,OAAD,IAAaA,OAAO,CAACC,IAAR,KAAiBI,YAAY,CAACJ,IADtB,CAAxB;AAIAP,MAAAA,eAAe,CAACI,eAAD,CAAf;AACA,aAAOH,QAAQ,CAACR,UAAU,CAACkB,YAAD,CAAX,CAAf;AACF;;AAED,UAAMP,eAAe,GAAGL,YAAY,CAACM,MAAb,CACpBC,OAAD,IAAaA,OAAO,CAACC,IAAR,KAAiBI,YAAY,CAACJ,IADtB,CAAxB;AAGAP,IAAAA,eAAe,CAACI,eAAD,CAAf;AACF,GApBD;;AAsBA,QAAMe,gBAAgB,GAAIC,cAAD,IAAoB;AAC1C,WAAOnB,QAAQ,CAACP,aAAa,CAAC0B,cAAD,CAAd,CAAf;AACF,GAFD;;AAIA,SAAO;AAAErB,IAAAA,YAAF;AAAgBG,IAAAA,WAAhB;AAA6BQ,IAAAA,cAA7B;AAA6CS,IAAAA;AAA7C,GAAP;AACF","sourcesContent":["import { useState } from 'react'\n\nimport { useDispatch } from 'react-redux'\n\nimport { addPokemon, removePokemon } from '../actions/action'\n\nexport default function usePokemonListAction(\n   allPokemonList = [],\n   pokemonList = []\n) {\n   const myPokemonList = pokemonList\n   const [searchResult, setSearchResult] = useState(allPokemonList)\n   const dispatch = useDispatch()\n\n   const findPokemon = (keyword) => {\n      const newSearchResult = allPokemonList.filter((pokemon) => {\n         return pokemon.name.toLowerCase().includes(keyword)\n      })\n      setSearchResult(newSearchResult)\n   }\n\n   const addPokemonList = (addedPokemon) => {\n      const isAdded = myPokemonList.filter(\n         (pokemon) => pokemon.name === addedPokemon.name\n      )\n\n      if (isAdded.length === 0) {\n         const newPokemonlist = [...myPokemonList, addedPokemon]\n         localStorage.setItem('pokedex', JSON.stringify(newPokemonlist))\n         const newSearchResult = searchResult.filter(\n            (pokemon) => pokemon.name !== addedPokemon.name\n         )\n\n         setSearchResult(newSearchResult)\n         return dispatch(addPokemon(addedPokemon))\n      }\n\n      const newSearchResult = searchResult.filter(\n         (pokemon) => pokemon.name !== addedPokemon.name\n      )\n      setSearchResult(newSearchResult)\n   }\n\n   const onRemovePokemeon = (removedPokemon) => {\n      return dispatch(removePokemon(removedPokemon))\n   }\n\n   return { searchResult, findPokemon, addPokemonList, onRemovePokemeon }\n}\n"]},"metadata":{},"sourceType":"module"}